(function(e){function t(t){for(var n,i,s=t[0],o=t[1],c=t[2],d=0,f=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);u&&u(t);while(f.length)f.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=o;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"04a3":function(e,t,a){"use strict";a("fdd4")},"2a5a":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e623"),a("e379"),a("5dc8"),a("37e1");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},l=[],i={name:"app"},s=i,o=a("2877"),c=Object(o["a"])(s,r,l,!1,null,null,null),u=c.exports,d=a("8c4f"),f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"home-container"},[a("el-aside",{attrs:{width:"200px"}},[a("div",{staticClass:"sidebar-header"},[a("i",{staticClass:"logo"})]),a("div",[a("el-menu",{attrs:{"background-color":"#5692f1","text-color":"#fff","active-text-color":"#ffd04b","unique-opened":"",router:"","default-active":e.activePath}},[a("el-menu-item",{attrs:{index:"/test"}},[a("i",{staticClass:"el-icon-menu"}),a("span",{attrs:{slot:"title"},slot:"title"},[e._v("分词测试")])]),a("el-submenu",{attrs:{index:"/dic"}},[a("template",{slot:"title"},[a("i",{staticClass:"el-icon-edit"}),a("span",[e._v("字典操作")])]),a("el-menu-item-group",[a("el-menu-item",{attrs:{index:"/dic/add"}},[e._v("新增字典")]),a("el-menu-item",{attrs:{index:"/dic/watch"}},[e._v("查看字典")])],1)],2)],1)],1)]),a("el-container",[a("el-main",[a("router-view")],1)],1)],1)},p=[],h={name:"Home",data:function(){return{activePath:""}},methods:{saveNavState:function(e){this.activePath=e}}},b=h,m=(a("fe21"),Object(o["a"])(b,f,p,!1,null,"41b0d4ac",null)),v=m.exports,g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{attrs:{gutter:20}},[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:15,offset:5}},[a("el-checkbox",{attrs:{border:"",checked:""},model:{value:e.stopwords,callback:function(t){e.stopwords=t},expression:"stopwords"}},[e._v("保留停用词")]),a("el-checkbox",{attrs:{border:"",checked:""},model:{value:e.tag,callback:function(t){e.tag=t},expression:"tag"}},[e._v("词性标注")]),a("el-checkbox",{attrs:{disabled:"",border:"",checked:""},model:{value:e.refine,callback:function(t){e.refine=t},expression:"refine"}},[e._v("refine")])],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:3,offset:5}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.algorithm,callback:function(t){e.algorithm=t},expression:"algorithm"}},e._l(e.algorithms,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:10}},[a("el-input",{attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submit.apply(null,arguments)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),a("el-col",{attrs:{span:2}},[a("el-button",{staticStyle:{"margin-left":"10%",width:"90%"},attrs:{type:"primary"},on:{click:e.submit}},[e._v("确定")])],1)],1)],1)],1),a("el-row",{attrs:{gutter:20}},[a("el-card",[a("el-col",{attrs:{span:15,offset:5}},[a("el-input",{staticClass:"inputBut",attrs:{type:"textarea",rows:"30",readonly:""},model:{value:e.word,callback:function(t){e.word=t},expression:"word"}})],1)],1)],1)],1)},y=[],w=(a("498a"),a("0fb7"),a("450d"),a("f529")),k=a.n(w),x=(a("d3b7"),a("ac1f"),a("5319"),a("bc3a")),_=a.n(x),M=_.a.create({baseURL:"/",withCredentials:!0,headers:{},timeout:6e4});M.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),M.interceptors.response.use((function(e){return 200===e.status||206===e.status?e:Promise.reject(e)}),(function(e){if(e.response&&e.response.status)switch(e.response.status){case 401:n["default"].cookie.delete("token"),X.replace({path:"/login",query:{redirect:X.currentRoute.fullPath}});break;case 403:n["default"].cookie.delete("token"),setTimeout((function(){X.replace({path:"/login",query:{redirect:X.currentRoute.fullPath}})}),1e3);break;case 404:k.a.error("404请求不存在");break;case 504:k.a.error("504网关超时");break;default:}else e.request;return e}));var C=M;function O(e){return C({method:"post",url:"/dic/seg",data:e})}function D(e){return C({method:"get",url:"/dic/info"})}function j(e){return C({method:"post",url:"/dic/add",data:e})}function S(e,t,a,n){var r={dic:e,search:t,pageNum:a,pageSize:n};return C({method:"post",url:"/dic/detail",data:r})}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"post";return C({method:t,url:"/dic/word",data:e})}function E(e){return C({method:"get",url:"/file/download",params:e,responseType:"blob"})}function I(e){return C({method:"post",url:"/file/upload",data:e,headers:{"Content-Type":"multipart/form-data"}})}var T={name:"Test",data:function(){return{stopwords:!1,tag:!1,refine:!1,input:"",word:"",algorithms:[{value:"MaximumMatching",label:"正向最大匹配"},{value:"ReverseMaximumMatching",label:"逆向最大匹配"},{value:"MinimumMatching",label:"正向最小匹配"},{value:"ReverseMinimumMatching",label:"逆向最小匹配"},{value:"BidirectionalMaximumMatching",label:"双向最大匹配"},{value:"BidirectionalMinimumMatching",label:"双向最小匹配"},{value:"BidirectionalMaximumMinimumMatching",label:"双向最大最小匹配"},{value:"FullSegmentation",label:"全切分"},{value:"MinimalWordCount",label:"最少词数"},{value:"MaxNgramScore",label:"最大Ngram分值"}],algorithm:"MaximumMatching"}},methods:{submit:function(){var e=this;if(0===this.input.trim().length)return this.$message.info("请先输入待分的句子");var t={input:this.input,algorithm:this.algorithm,tag:this.tag,stopwords:this.stopwords,refine:this.refine};O(t).then((function(t){var a=t.data;if(2e4!==a.code)return e.$message.error(a.message);e.word=a.data}))}}},q=T,z=(a("b88c"),Object(o["a"])(q,g,y,!1,null,"0d5c9a22",null)),P=z.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,offset:2}},[a("div",{staticClass:"item"},[a("span",{staticClass:"text"},[e._v("字典:")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectDic},model:{value:e.dic,callback:function(t){e.dic=t},expression:"dic"}},e._l(e.dics,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"item"},[a("span",{staticClass:"text"},[e._v("词性标签:")]),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.pos,callback:function(t){e.pos=t},expression:"pos"}},e._l(e.poss,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.label))]),a("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.value))])])})),1)],1)])],1)],1)],1),a("el-row",[a("el-card",[a("el-input",{attrs:{type:"textarea",rows:30,placeholder:"请输入关键词"},model:{value:e.keywords,callback:function(t){e.keywords=t},expression:"keywords"}}),a("el-row",[a("el-col",[a("el-button",{attrs:{type:"primary"},on:{click:e.addDics}},[e._v("新增")])],1)],1)],1)],1)],1)},R=[],B=(a("159b"),a("07ac"),a("1276"),a("7db0"),{name:"Add",data:function(){return{keywords:"",dic:"",dics:[],pos:"",poss:[],dicInfoMap:{}}},methods:{getDicInfo:function(){var e=this;D(null).then((function(t){var a=t.data;if(2e4!==a.code)return e.$message.error("获取字典info信息失败");e.dicInfoMap=a.data,Object.values(a.data).forEach((function(t){e.dics.push({label:t.label,value:t.value})}))}))},selectDic:function(){var e=this.dicInfoMap[this.dic];this.pos="";var t=e.partOfSpeechMap;for(var a in this.poss=[],t)this.poss.push({label:a,value:t[a]});this.poss.length>0&&(this.pos=this.poss[0].value)},addDics:function(){var e=this;if(""===this.keywords.trim())return this.$message.error("请先填写要新增的关键词");var t=this.keywords.trim().split(/[(\r\n)\r\n]+/);if(""===this.dic||this.poss.length>0&&""===this.pos)return this.$message.error("请先选择对应字典和词性标签");var a=this.poss.find((function(t){return t.value===e.pos})),n=this.dics.find((function(t){return t.value===e.dic}));j({dic:this.dic,label:n.label,pos:""===this.pos?"":a.label,lines:t}).then((function(t){var a=t.data;e.$message.success(a.message)}))}},created:function(){this.getDicInfo()}}),N=B,U=(a("04a3"),Object(o["a"])(N,F,R,!1,null,"71d0c79f",null)),L=U.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",[a("el-card",[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:4,offset:2}},[a("div",{staticClass:"item"},[a("span",{staticClass:"text"},[e._v("字典:")]),a("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectDic},model:{value:e.dic,callback:function(t){e.dic=t},expression:"dic"}},e._l(e.dics,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]),a("el-col",{attrs:{span:4}},[a("div",{staticClass:"item"},[a("span",{staticClass:"text"},[e._v("模糊匹配:")]),a("el-input",{attrs:{placeholder:"请输入搜索项"},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.beginSearch.apply(null,arguments)}},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]),a("el-col",{attrs:{span:2,offset:7}},[a("el-button",{attrs:{type:"primary"},on:{click:e.downloadFile}},[e._v("下载字典"),a("i",{staticClass:"el-icon-download el-icon--right"})])],1),a("el-col",{attrs:{span:4,offset:1}},[a("el-upload",{ref:"uploadRef",staticClass:"upload-demo",attrs:{action:"","http-request":e.uploadFile,"show-file-list":!0,limit:1,"on-exceed":e.handleExceed,"before-upload":e.beforeAvatarUpload}},[a("el-button",{attrs:{type:"primary"}},[e._v("上传字典"),a("i",{staticClass:"el-icon-upload el-icon--right"})]),a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传txt文件，且不超过2Mb")])],1)],1)],1)],1)],1),a("el-row",[a("el-card",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dicData,border:""}},[a("el-table-column",{attrs:{prop:"word",label:"词"}}),a("el-table-column",{attrs:{prop:"posf",label:"词性标签"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(a){return e.handleDelete(t.$index,t.row)}}})]}}])})],1),a("el-row",{attrs:{type:"flex",justify:"end"}},[a("el-col",{attrs:{offset:24}},[a("el-pagination",{attrs:{"current-page":e.queryInfo.pageNum,"page-sizes":[5,10,15,20],"page-size":e.queryInfo.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total,background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)],1)],1)},J=[],W=(a("3ca3"),a("ddb0"),a("2b3d"),a("99af"),a("841c"),a("b64b"),a("4fad"),{name:"Watch",data:function(){return{dic:"",dics:[],poss:[],dicData:[],dicInfoMap:{},queryInfo:{pageNum:1,pageSize:10},total:100,disableEdit:!0,upFile:new FormData,search:""}},methods:{beginSearch:function(){this.queryInfo.pageNum=1,this.controlEditBtu(),this.refreshTableData()},downloadFile:function(){var e=this,t=this.dics.find((function(t){return t.value===e.dic}));E({dic:this.dic,label:t.label}).then((function(e){var a=e.data,n=new Blob([a],{type:"text/plain"}),r=t.label+".txt",l=document.createElement("a");l.download=r,l.style.display="none",l.href=URL.createObjectURL(n),document.body.appendChild(l),l.click(),URL.revokeObjectURL(l.href),document.body.removeChild(l)}))},uploadFile:function(){var e=this;this.upFile.append("dic",this.dic);var t=this.dics.find((function(t){return t.value===e.dic}));this.upFile.append("label",t.label),I(this.upFile).then((function(t){var a=t.data;e.$refs.uploadRef.clearFiles(),a.flag?(e.$message.success(a.message),e.refreshTableData()):e.$message.error(a.message)}))},beforeAvatarUpload:function(e){var t="text/plain"===e.type,a=e.size/1024/1024<2;return t||this.$message.error("上传字典只能是 Txt 格式！"),a||this.$message.error("上传字典大小不能超过 2MB！"),t&&a&&this.upFile.append("file",e),t&&a},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 ".concat(e.length," 个文件，共选择了 ").concat(e.length+t.length," 个文件"))},handleEdit:function(e,t){},handleDelete:function(e,t){var a=this;$({dic:this.dic,word:t.word},"delete").then((function(e){var t=e.data;2e4===t.code&&(a.$message.success(t.message),a.refreshTableData())}))},handleSizeChange:function(e){this.queryInfo.pageSize=e,this.refreshTableData()},handleCurrentChange:function(e){this.queryInfo.pageNum=e,this.refreshTableData()},getDicInfo:function(){var e=this;D(null).then((function(t){var a=t.data;if(2e4!==a.code)return e.$message.error("获取字典info信息失败");e.dicInfoMap=a.data,Object.values(a.data).forEach((function(t){e.dics.push({label:t.label,value:t.value})})),e.initTable()}))},selectDic:function(){this.search="",this.controlEditBtu(),this.refreshTableData()},controlEditBtu:function(){var e=this.dicInfoMap[this.dic],t=e.partOfSpeechMap;Object.keys(t).length>1?this.disableEdit=!1:this.disableEdit=!0},refreshTableData:function(){var e=this;S(this.dic,this.search,this.queryInfo.pageNum,this.queryInfo.pageSize).then((function(t){var a=t.data;if(2e4!==a.code)return e.$message.error("请求字典详情失败!");e.dicData=[],e.total=a.data.total,Object.entries(a.data.dicData).forEach((function(t){e.dicData.push({word:t[0],posf:""===t[1]?"无":t[1]})}))}))},initTable:function(){this.dic=this.dics[0].value,this.controlEditBtu(),this.refreshTableData()}},created:function(){this.getDicInfo()}}),H=W,G=(a("70e1"),Object(o["a"])(H,A,J,!1,null,"1ecfac65",null)),K=G.exports;n["default"].use(d["a"]);var Q=[{path:"/",component:v,redirect:"/test",children:[{path:"/test",component:P},{path:"/dic/add",component:L},{path:"/dic/watch",component:K}]}],V=new d["a"]({routes:Q}),X=V,Y=(a("9e1f"),a("6ed5")),Z=a.n(Y),ee=(a("f225"),a("89a9")),te=a.n(ee),ae=(a("560b"),a("dcdc")),ne=a.n(ae),re=(a("6611"),a("e772")),le=a.n(re),ie=(a("1f1a"),a("4e4b")),se=a.n(ie),oe=(a("cbb5"),a("8bbc")),ce=a.n(oe),ue=(a("672e"),a("101e")),de=a.n(ue),fe=(a("5466"),a("ecdf")),pe=a.n(fe),he=(a("38a0"),a("ad41")),be=a.n(he),me=(a("f4f9"),a("c2cc")),ve=a.n(me),ge=(a("7a0f"),a("0f6c")),ye=a.n(ge),we=(a("b8e0"),a("a4c4")),ke=a.n(we),xe=(a("34db"),a("3803")),_e=a.n(xe),Me=(a("8bd8"),a("4cb2")),Ce=a.n(Me),Oe=(a("ce18"),a("f58e")),De=a.n(Oe),je=(a("4ca3"),a("443e")),Se=a.n(je),$e=(a("de31"),a("c69e")),Ee=a.n($e),Ie=(a("a769"),a("5cc3")),Te=a.n(Ie),qe=(a("a673"),a("7b31")),ze=a.n(qe),Pe=(a("adec"),a("3d2d")),Fe=a.n(Pe),Re=(a("10cb"),a("f3ad")),Be=a.n(Re),Ne=(a("eca7"),a("3787")),Ue=a.n(Ne),Le=(a("425f"),a("4105")),Ae=a.n(Le),Je=(a("1951"),a("eedf")),We=a.n(Je);n["default"].use(We.a),n["default"].use(Ae.a),n["default"].use(Ue.a),n["default"].use(Be.a),n["default"].use(Fe.a),n["default"].use(ze.a),n["default"].use(Te.a),n["default"].use(Ee.a),n["default"].use(Se.a),n["default"].use(De.a),n["default"].use(Ce.a),n["default"].use(_e.a),n["default"].use(ke.a),n["default"].use(ye.a),n["default"].use(ve.a),n["default"].use(be.a),n["default"].use(pe.a),n["default"].use(de.a),n["default"].use(ce.a),n["default"].use(se.a),n["default"].use(le.a),n["default"].use(ne.a),n["default"].use(te.a),n["default"].prototype.$message=k.a,n["default"].prototype.$confirm=Z.a.confirm;a("82da"),a("aede");n["default"].config.productionTip=!1,new n["default"]({router:X,render:function(e){return e(u)}}).$mount("#app")},"70e1":function(e,t,a){"use strict";a("2a5a")},"82da":function(e,t,a){},"8e54":function(e,t,a){},aede:function(e,t,a){},b88c:function(e,t,a){"use strict";a("e0b0")},e0b0:function(e,t,a){},fdd4:function(e,t,a){},fe21:function(e,t,a){"use strict";a("8e54")}});
//# sourceMappingURL=app.5167f832.js.map